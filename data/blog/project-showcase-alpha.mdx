---
title: "é¡¹ç›®å±•ç¤ºï¼šAlpha å› å­æŒ–æ˜å¹³å°"
date: 2024-12-01
tags: ["Project", "Showcase", "Quant", "Alpha"]
draft: false
summary: "æ·±å…¥äº†è§£ Swift Coding Club çš„æ——èˆ°é¡¹ç›®â€”â€”Alpha å› å­æŒ–æ˜å¹³å°ã€‚ä»æ¶æ„è®¾è®¡åˆ°å®é™…åº”ç”¨ï¼Œå…¨æ–¹ä½è§£æé‡åŒ–æŠ•èµ„ç³»ç»Ÿçš„æ„å»ºè¿‡ç¨‹ã€‚"
authors: ["Project Team"]
source: "human"
---

# é¡¹ç›®å±•ç¤ºï¼šAlpha å› å­æŒ–æ˜å¹³å° ğŸ¯

ä»Šå¤©ä¸ºå¤§å®¶ä»‹ç» **Swift Coding Club** çš„æ——èˆ°é¡¹ç›®â€”â€”**Alpha å› å­æŒ–æ˜å¹³å°**ã€‚è¿™æ˜¯ä¸€ä¸ªç”±ç¤¾å›¢æˆå‘˜å…±åŒå¼€å‘çš„é‡åŒ–æŠ•èµ„ç³»ç»Ÿã€‚

## ğŸ“– é¡¹ç›®èƒŒæ™¯

### ä»€ä¹ˆæ˜¯ Alpha å› å­ï¼Ÿ

åœ¨é‡åŒ–æŠ•èµ„ä¸­ï¼Œ**Alpha** ä»£è¡¨è¶…è¶Šå¸‚åœºçš„è¶…é¢æ”¶ç›Šã€‚**å› å­**ï¼ˆFactorï¼‰æ˜¯æŒ‡èƒ½å¤Ÿè§£é‡Šæˆ–é¢„æµ‹èµ„äº§æ”¶ç›Šçš„å˜é‡ã€‚

å¸¸è§å› å­åŒ…æ‹¬ï¼š

- **ä»·å€¼å› å­**ï¼šå¸‚ç›ˆç‡ã€å¸‚å‡€ç‡
- **åŠ¨é‡å› å­**ï¼šè¿‡å»ä¸€æ®µæ—¶é—´çš„æ”¶ç›Šç‡
- **è´¨é‡å› å­**ï¼šROEã€èµ„äº§è´Ÿå€ºç‡
- **æ³¢åŠ¨ç‡å› å­**ï¼šå†å²æ³¢åŠ¨ç‡

### é¡¹ç›®ç›®æ ‡

æ„å»ºä¸€ä¸ªå¹³å°ï¼Œè®©ç”¨æˆ·å¯ä»¥ï¼š

1. ğŸ” **æŒ–æ˜æ–°å› å­**ï¼šé€šè¿‡æ•°æ®åˆ†æå‘ç°æœ‰æ•ˆå› å­
2. ğŸ“Š **å›æµ‹éªŒè¯**ï¼šè¯„ä¼°å› å­çš„å†å²è¡¨ç°
3. ğŸš€ **ç­–ç•¥æ„å»º**ï¼šåŸºäºå› å­ç»„åˆæ„å»ºäº¤æ˜“ç­–ç•¥
4. ğŸ“ˆ **å®æ—¶ç›‘æ§**ï¼šè·Ÿè¸ªå› å­å’Œç­–ç•¥çš„è¡¨ç°

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Web Dashboard (Next.js)             â”‚
â”‚  å› å­ç®¡ç† | å›æµ‹åˆ†æ | ç­–ç•¥ç›‘æ§ | æ•°æ®å¯è§†åŒ–  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ REST API / WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Backend API (FastAPI)                â”‚
â”‚  ç”¨æˆ·è®¤è¯ | å› å­å¼•æ“ | å›æµ‹å¼•æ“ | ä»»åŠ¡è°ƒåº¦        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚           â”‚           â”‚
â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”
â”‚PostgreSQLâ”‚ â”‚  Redis â”‚ â”‚ClickHouseâ”‚
â”‚  ç”¨æˆ·æ•°æ® â”‚ â”‚  ç¼“å­˜  â”‚ â”‚ æ—¶åºæ•°æ® â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ’» æ ¸å¿ƒåŠŸèƒ½

### 1. å› å­è®¡ç®—å¼•æ“

ä½¿ç”¨å‘é‡åŒ–æ–¹æ³•é«˜æ•ˆè®¡ç®—å› å­ï¼š

```python
import pandas as pd
import numpy as np

class FactorEngine:
    def __init__(self, data: pd.DataFrame):
        self.data = data  # columns: date, stock_id, price, volume, ...

    def calculate_momentum(self, window=20):
        """è®¡ç®—åŠ¨é‡å› å­"""
        return self.data.groupby('stock_id')['price'].pct_change(window)

    def calculate_volatility(self, window=20):
        """è®¡ç®—æ³¢åŠ¨ç‡å› å­"""
        returns = self.data.groupby('stock_id')['price'].pct_change()
        return returns.groupby(self.data['stock_id']).rolling(window).std()

    def calculate_value_factor(self):
        """è®¡ç®—ä»·å€¼å› å­ï¼ˆå¸‚å‡€ç‡å€’æ•°ï¼‰"""
        return 1 / self.data['pb_ratio']

    def calculate_custom_factor(self, expression: str):
        """è‡ªå®šä¹‰å› å­è®¡ç®—"""
        # æ”¯æŒç”¨æˆ·ç¼–å†™å› å­è¡¨è¾¾å¼
        # ä¾‹å¦‚: "(close - open) / volume"
        return self.data.eval(expression)

# ä½¿ç”¨ç¤ºä¾‹
engine = FactorEngine(stock_data)
momentum = engine.calculate_momentum(window=20)
volatility = engine.calculate_volatility(window=20)
```

### 2. å› å­åˆ†æä¸è¯„ä¼°

è¯„ä¼°å› å­çš„æœ‰æ•ˆæ€§ï¼š

```python
class FactorAnalyzer:
    def __init__(self, factor_values, returns):
        self.factor_values = factor_values
        self.returns = returns

    def calculate_ic(self):
        """
        è®¡ç®—ä¿¡æ¯ç³»æ•°ï¼ˆICï¼‰
        è¡¡é‡å› å­ä¸æœªæ¥æ”¶ç›Šçš„ç›¸å…³æ€§
        """
        return self.factor_values.corrwith(self.returns)

    def calculate_ir(self):
        """
        è®¡ç®—ä¿¡æ¯æ¯”ç‡ï¼ˆIRï¼‰
        IC çš„ç¨³å®šæ€§æŒ‡æ ‡
        """
        ic_series = self.calculate_ic()
        return ic_series.mean() / ic_series.std()

    def group_backtest(self, n_groups=5):
        """
        åˆ†ç»„å›æµ‹
        å°†è‚¡ç¥¨æŒ‰å› å­å€¼åˆ†æˆ N ç»„ï¼Œæ¯”è¾ƒæ”¶ç›Š
        """
        # æŒ‰å› å­å€¼åˆ†ç»„
        groups = pd.qcut(self.factor_values, n_groups, labels=False)

        # è®¡ç®—å„ç»„æ”¶ç›Š
        group_returns = {}
        for i in range(n_groups):
            mask = (groups == i)
            group_returns[f'Group_{i+1}'] = self.returns[mask].mean()

        return pd.Series(group_returns)

    def plot_ic_decay(self, periods=10):
        """ç»˜åˆ¶ IC è¡°å‡å›¾"""
        import matplotlib.pyplot as plt

        ic_values = []
        for i in range(1, periods + 1):
            future_returns = self.returns.shift(-i)
            ic = self.factor_values.corrwith(future_returns)
            ic_values.append(ic.mean())

        plt.plot(range(1, periods + 1), ic_values)
        plt.xlabel('Periods')
        plt.ylabel('IC')
        plt.title('IC Decay Over Time')
        plt.show()

# åˆ†æç¤ºä¾‹
analyzer = FactorAnalyzer(momentum_factor, future_returns)
ic = analyzer.calculate_ic()
ir = analyzer.calculate_ir()
print(f"ä¿¡æ¯ç³»æ•° (IC): {ic:.4f}")
print(f"ä¿¡æ¯æ¯”ç‡ (IR): {ir:.4f}")
```

### 3. å›æµ‹å¼•æ“

å‘é‡åŒ–å›æµ‹ï¼Œæ”¯æŒç™¾ä¸‡çº§æ•°æ®ï¼š

```python
class VectorizedBacktest:
    def __init__(self, prices, signals, transaction_cost=0.001):
        self.prices = prices
        self.signals = signals
        self.transaction_cost = transaction_cost

    def run(self):
        """æ‰§è¡Œå‘é‡åŒ–å›æµ‹"""
        # è®¡ç®—æŒä»“å˜åŒ–
        positions = self.signals.shift(1)  # Tæ—¥ä¿¡å·ï¼ŒT+1æ‰§è¡Œ

        # è®¡ç®—æ”¶ç›Š
        returns = self.prices.pct_change()
        strategy_returns = positions * returns

        # æ‰£é™¤äº¤æ˜“æˆæœ¬
        trades = positions.diff().abs()
        costs = trades * self.transaction_cost
        net_returns = strategy_returns - costs

        # ç´¯è®¡æ”¶ç›Š
        cumulative = (1 + net_returns).cumprod()

        return {
            'cumulative_returns': cumulative,
            'sharpe_ratio': self.calculate_sharpe(net_returns),
            'max_drawdown': self.calculate_max_drawdown(cumulative),
            'turnover': trades.mean()
        }

    def calculate_sharpe(self, returns, rf_rate=0.03):
        """è®¡ç®—å¤æ™®æ¯”ç‡"""
        excess_returns = returns - rf_rate / 252
        return np.sqrt(252) * excess_returns.mean() / excess_returns.std()

    def calculate_max_drawdown(self, cumulative):
        """è®¡ç®—æœ€å¤§å›æ’¤"""
        running_max = cumulative.expanding().max()
        drawdown = (cumulative - running_max) / running_max
        return drawdown.min()
```

### 4. Web ç•Œé¢

åŸºäº Next.js çš„ç°ä»£åŒ–ç•Œé¢ï¼š

```typescript
// app/factors/page.tsx
"use client";

import { useState, useEffect } from "react";
import { Card } from "@/components/ui/card";
import { Button } from "@/components/ui/button";

export default function FactorsPage() {
  const [factors, setFactors] = useState([]);

  useEffect(() => {
    fetchFactors();
  }, []);

  const fetchFactors = async () => {
    const res = await fetch("/api/factors");
    const data = await res.json();
    setFactors(data);
  };

  return (
    <div className="container mx-auto p-6">
      <h1 className="text-3xl font-bold mb-6">å› å­ç®¡ç†</h1>

      <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {factors.map((factor) => (
          <Card key={factor.id} className="p-4">
            <h3 className="font-bold text-lg">{factor.name}</h3>
            <p className="text-sm text-gray-600">{factor.description}</p>

            <div className="mt-4 space-y-2">
              <div className="flex justify-between">
                <span>IC:</span>
                <span
                  className={factor.ic > 0 ? "text-green-600" : "text-red-600"}
                >
                  {factor.ic.toFixed(4)}
                </span>
              </div>
              <div className="flex justify-between">
                <span>IR:</span>
                <span>{factor.ir.toFixed(4)}</span>
              </div>
            </div>

            <Button className="mt-4 w-full">å›æµ‹è¯¥å› å­</Button>
          </Card>
        ))}
      </div>
    </div>
  );
}
```

## ğŸ“Š å®é™…åº”ç”¨æ¡ˆä¾‹

### æ¡ˆä¾‹ï¼šåŠ¨é‡åè½¬ç­–ç•¥

æˆ‘ä»¬ä½¿ç”¨å¹³å°æŒ–æ˜å‡ºä¸€ä¸ªæœ‰æ•ˆçš„å› å­ç»„åˆï¼š

```python
# å› å­ç»„åˆ
def combined_factor(data):
    # çŸ­æœŸåè½¬
    short_reversal = -data['return_5d']

    # ä¸­æœŸåŠ¨é‡
    mid_momentum = data['return_20d']

    # æ³¢åŠ¨ç‡è°ƒæ•´
    volatility_adj = data['volatility_20d']

    # ç»„åˆå› å­ï¼ˆå½’ä¸€åŒ–ååŠ æƒï¼‰
    factor = (
        0.3 * normalize(short_reversal) +
        0.5 * normalize(mid_momentum) -
        0.2 * normalize(volatility_adj)
    )

    return factor

# å›æµ‹ç»“æœ
strategy_returns = backtest_factor(combined_factor)

print("ç­–ç•¥è¡¨ç°:")
print(f"å¹´åŒ–æ”¶ç›Šç‡: {annual_return:.2%}")
print(f"å¤æ™®æ¯”ç‡: {sharpe:.2f}")
print(f"æœ€å¤§å›æ’¤: {max_dd:.2%}")
print(f"èƒœç‡: {win_rate:.2%}")
```

**å®é™…è¡¨ç°ï¼ˆ2020-2024 å›æµ‹ï¼‰ï¼š**

- ğŸ“ˆ **å¹´åŒ–æ”¶ç›Š**ï¼š18.5%
- ğŸ“Š **å¤æ™®æ¯”ç‡**ï¼š1.85
- ğŸ“‰ **æœ€å¤§å›æ’¤**ï¼š-12.3%
- âœ… **ä¿¡æ¯æ¯”ç‡**ï¼š0.65

## ğŸ› ï¸ æŠ€æœ¯äº®ç‚¹

### æ€§èƒ½ä¼˜åŒ–

1. **å‘é‡åŒ–è®¡ç®—**ï¼šä½¿ç”¨ NumPy/Pandasï¼Œé¿å…å¾ªç¯
2. **æ•°æ®åº“ç´¢å¼•**ï¼šClickHouse æ—¶åºæ•°æ®åº“ï¼ŒæŸ¥è¯¢é€Ÿåº¦æå¿«
3. **ç¼“å­˜ç­–ç•¥**ï¼šRedis ç¼“å­˜çƒ­ç‚¹æ•°æ®
4. **å¼‚æ­¥å¤„ç†**ï¼šFastAPI asyncï¼Œé«˜å¹¶å‘æ”¯æŒ

### å¯æ‰©å±•æ€§

```python
# æ’ä»¶åŒ–å› å­ç³»ç»Ÿ
class FactorPlugin:
    def calculate(self, data):
        raise NotImplementedError

    def metadata(self):
        return {
            'name': '',
            'description': '',
            'author': '',
            'version': ''
        }

# ç”¨æˆ·å¯ä»¥ç¼–å†™è‡ªå·±çš„å› å­
class MyCustomFactor(FactorPlugin):
    def calculate(self, data):
        # è‡ªå®šä¹‰é€»è¾‘
        return data['close'] / data['open'] - 1

    def metadata(self):
        return {
            'name': 'å¼€ç›˜æ”¶ç›Šç‡',
            'description': 'æ”¶ç›˜ä»·ç›¸å¯¹å¼€ç›˜ä»·çš„æ”¶ç›Š',
            'author': 'John Doe',
            'version': '1.0.0'
        }
```

## ğŸ‘¥ å›¢é˜Ÿè´¡çŒ®

è¿™ä¸ªé¡¹ç›®æ˜¯å›¢é˜Ÿåä½œçš„æˆæœï¼š

- **Alex**ï¼šæ¶æ„è®¾è®¡ã€åç«¯å¼€å‘
- **Sophia**ï¼šå› å­ç ”ç©¶ã€ç­–ç•¥å¼€å‘
- **Mike**ï¼šå‰ç«¯å¼€å‘ã€æ•°æ®å¯è§†åŒ–
- **Lisa**ï¼šæ•°æ®å·¥ç¨‹ã€æ€§èƒ½ä¼˜åŒ–

## ğŸš€ æœªæ¥è§„åˆ’

1. **æœºå™¨å­¦ä¹ å› å­**ï¼šä½¿ç”¨ AutoML è‡ªåŠ¨æŒ–æ˜å› å­
2. **å®ç›˜äº¤æ˜“**ï¼šå¯¹æ¥åˆ¸å•† APIï¼Œæ”¯æŒå®ç›˜éªŒè¯
3. **ç¤¾åŒºå…±äº«**ï¼šå»ºç«‹å› å­å¸‚åœºï¼Œç”¨æˆ·å¯ä»¥åˆ†äº«/äº¤æ˜“å› å­
4. **é£é™©ç®¡ç†**ï¼šé›†æˆ VaRã€CVaR ç­‰é£é™©æŒ‡æ ‡

## ğŸ“š ç›¸å…³èµ„æº

- GitHub: [swift-club/alpha-platform](https://github.com/swift-club/alpha-platform)
- æ–‡æ¡£: [å†…éƒ¨çŸ¥è¯†åº“ - Alpha å¹³å°æŒ‡å—](/internal/alpha-guide)
- è®ºæ–‡: _101 Formulaic Alphas_ - WorldQuant

## ğŸ“ åŠ å…¥å¼€å‘

æƒ³å‚ä¸è¿™ä¸ªé¡¹ç›®ï¼Ÿ

1. å­¦ä¹  Python é‡åŒ–åŸºç¡€
2. ç†Ÿæ‚‰ FastAPI å’Œ Next.js
3. é˜…è¯»é¡¹ç›®æ–‡æ¡£
4. è”ç³»é¡¹ç›®è´Ÿè´£äºº

---

**çœ‹åˆ°è¿™é‡Œæ„Ÿå…´è¶£ï¼Ÿ** [ç«‹å³åŠ å…¥ Swift Coding Club](/join) å‚ä¸æ›´å¤šé…·ç‚«é¡¹ç›®ï¼
